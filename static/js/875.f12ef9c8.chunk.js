(self.webpackChunkportfolio_app=self.webpackChunkportfolio_app||[]).push([[875],{3752:function(n,e,t){"use strict";t.d(e,{Z:function(){return s}});var r=t(2791),i=(t(9097),function(n,e){(0,r.useEffect)((function(){!function(){if(n.current){var t=n.current.getContext("2d");t&&(t.lineCap="round",t.strokeStyle=e)}}()}),[n,e])}),o=t(3433),c=function(n,e){function t(n,e){return[n.pageX-e.offsetLeft,n.pageY-e.offsetTop]}(0,r.useEffect)((function(){var r=n.current,i=null===r||void 0===r?void 0:r.getContext("2d");function c(n){r&&i&&(i.beginPath(),i.moveTo.apply(i,(0,o.Z)(t(n,r))),a(n),e.current=!1)}var u=function(){e.current=!0},a=function(n){e.current||r&&i&&(i.lineTo.apply(i,(0,o.Z)(t(n,r))),i.stroke())};!function(){if(r)r.addEventListener("mousedown",c,!1),r.addEventListener("mousemove",a,!1),r.addEventListener("mouseup",u,!1)}()}),[n,e])},u=function(n,e){(0,r.useEffect)((function(){!function(){if(n.current){var t=n.current.getContext("2d");t&&(t.lineWidth=e)}}()}),[n,e])},a=t(184);function s(n){var e=(0,r.useRef)(!0);return(0,r.useEffect)((function(){!function(){if(n.canvasRef.current){var e=n.canvasRef.current.getContext("2d");e&&(e.lineCap="round",e.lineJoin="round",e.strokeStyle=n.penColor,e.fillStyle=n.canvasColor,e.fillRect(0,0,n.width,n.height),e.lineWidth=n.penSize,e.globalCompositeOperation="source-over")}}()}),[n.width,n.height]),i(n.canvasRef,n.penColor),u(n.canvasRef,n.penSize),c(n.canvasRef,e),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{style:{width:n.width},onClick:function(){var e=n.canvasRef.current;if(e){var t=e.getContext("2d");t&&(t.fillStyle=n.canvasColor,t.fillRect(0,0,n.width,n.height))}},children:"Clear"})}),(0,a.jsx)("div",{children:(0,a.jsx)("canvas",{onMouseEnter:function(t){var r,i;1===t.buttons&&n.canvasRef.current&&(null===(r=n.canvasRef.current)||void 0===r||null===(i=r.getContext("2d"))||void 0===i||i.beginPath(),e.current=!1)},onMouseLeave:function(){return e.current=!0},ref:n.canvasRef,width:n.width,height:n.height,style:{border:"1px solid #000000"}})})]})}s.defaultProps={width:400,height:400,canvasColor:"#FFFFFF",penColor:"#000000",penSize:12}},7516:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return v}});t(9097);var r=t(3752),i=t(4165),o=t(5861),c=t(9439),u=t(2791),a=t(1549);function s(n){return a.lub((function(){return a.BHj.resizeNearestNeighbor(n,[28,28],!0)}))}function f(n,e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,i.Z)().mark((function n(e,t){var r,o,c,u,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.dataSync().map((function(n){return n/255})),o=a.wOQ(r,[28,28,1]),c=o.expandDims(),u=e.predict(c),n.next=6,u.array();case 6:return s=n.sent,a.B90([t,r,o,c,u,s]),n.abrupt("return",s[0]);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d=t(184);function h(n){var e=(0,u.useState)(0),t=(0,c.Z)(e,2),r=t[0],l=t[1],h=(0,u.useState)(null),v=(0,c.Z)(h,2),p=v[0],g=v[1],x=(0,u.useRef)(null);(0,u.useEffect)((function(){(0,o.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p){n.next=14;break}return n.prev=1,n.next=4,a.FBF("https://raw.githubusercontent.com/ixartz/handwritten-digit-recognition-tensorflowjs/master/public/classifiers/model.json");case 4:e=n.sent,n.next=13;break;case 7:return n.prev=7,n.t0=n.catch(1),console.log("Model loading error: "+n.t0+"\nFalling back to the saved one"),n.next=12,a.FBF("http://"+window.location.host+"/models/digit-recognition-model/digit-recognition-model.json");case 12:e=n.sent;case 13:g(e);case 14:case"end":return n.stop()}}),n,null,[[1,7]])})))()}),[p]);var w=(0,u.useCallback)(function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e,t){var r,o,c,u;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=function(n){l(n.reduce((function(n,e,t,r){return e>r[n]?t:n}),0))},c=function(n){a.Xhn.toPixels(n,x.current)},a.SRH().startScope(),r=a.Xhn.fromPixels(e.current,1),o=s(r),c(o),f(t,o).then((function(n){u(n),a.B90([n])})),a.B90([r,o]),a.SRH().endScope();case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[]);return(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:function(){a.lub((function(){w(n.canvas,p)}))},children:"Predict"}),(0,d.jsx)("h1",{children:r}),(0,d.jsx)("canvas",{width:28,height:28,ref:x})]})}function v(){var n=(0,u.useRef)(null);return(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"Digit Recognition"}),(0,d.jsx)(r.Z,{canvasColor:"#000000",penColor:"white",width:280,height:280,penSize:20,canvasRef:n}),(0,d.jsx)(h,{canvas:n})]})}},5410:function(){},8628:function(){},1601:function(){},7792:function(){},4977:function(){},5042:function(){}}]);
//# sourceMappingURL=875.f12ef9c8.chunk.js.map