{"version":3,"file":"static/js/941.d56fd271.chunk.js","mappings":"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","sources":["hooks/useCanvasColorChange.tsx","hooks/useCanvasListener.tsx","hooks/useCanvasPenSizeChange.tsx","components/SketchPad.tsx","components/PenSettings.tsx","containers/PainterApp.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nconst useCanvasColorChange = (canvasRef: React.RefObject<HTMLCanvasElement>, color: string) => {\r\n    useEffect(() => {\r\n        const changeColor = () => {\r\n            if (canvasRef.current) {\r\n                const canvas: HTMLCanvasElement = canvasRef.current;\r\n                const context = canvas.getContext(\"2d\");\r\n                if (context) {\r\n                        context.lineCap = \"round\";\r\n                        context.strokeStyle = color;\r\n                }\r\n            }\r\n        }\r\n        changeColor();\r\n    }, [canvasRef, color])\r\n}\r\n\r\nexport default useCanvasColorChange;","import { useEffect } from \"react\";\r\n\r\nconst useCanvasListener = (canvasRef: React.RefObject<HTMLCanvasElement>, isIdle: React.MutableRefObject<boolean>) => {\r\n    \r\n    function getStrokeVector (event: MouseEvent, canvas: HTMLCanvasElement) {\r\n        return [event.pageX - canvas.offsetLeft,\r\n        event.pageY - canvas.offsetTop] as [number, number]\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas: HTMLCanvasElement|null = canvasRef.current;\r\n        const context = canvas?.getContext(\"2d\");\r\n        function drawStart(event: MouseEvent) {\r\n            if (canvas && context) {\r\n                context.beginPath();\r\n                context.moveTo(\r\n                    ...getStrokeVector(event, canvas)\r\n                );\r\n                drawMove(event);\r\n                isIdle.current = false;\r\n            }\r\n        }\r\n        const drawEnd = () => {\r\n            isIdle.current = true;\r\n        }\r\n        \r\n\r\n        const drawMove = (event: MouseEvent) => {\r\n            if (isIdle.current) return;\r\n            if (canvas && context) {\r\n                context.lineTo(\r\n                    ...getStrokeVector(event, canvas)\r\n                );\r\n                context.stroke();\r\n            }\r\n        }\r\n     \r\n        const addListeners = () => {\r\n            if (canvas) {\r\n                canvas.addEventListener(\"mousedown\", drawStart, false);\r\n                canvas.addEventListener(\"mousemove\", drawMove, false);\r\n                canvas.addEventListener(\"mouseup\", drawEnd, false);\r\n                \r\n                return () => {\r\n                    canvas.removeEventListener('mousedown', drawStart)\r\n                    canvas.removeEventListener('mousemove', drawMove)\r\n                    canvas.removeEventListener('mouseup', drawEnd)\r\n                }\r\n            }\r\n        }\r\n        addListeners();\r\n    }, [canvasRef, isIdle]);\r\n}\r\n\r\nexport default useCanvasListener;","import { useEffect } from \"react\";\r\n\r\nconst useCanvasPenSizeChange = (canvasRef: React.RefObject<HTMLCanvasElement>, penSize: number) => {\r\n    \r\n    useEffect(() => {\r\n        const changePenSize = () => {\r\n            if (canvasRef.current) {\r\n                const canvas: HTMLCanvasElement = canvasRef.current;\r\n                const context = canvas.getContext(\"2d\");\r\n                if (context) {\r\n                    context.lineWidth = penSize;\r\n                }\r\n            }\r\n        }\r\n        changePenSize();\r\n    }, [canvasRef, penSize])\r\n}\r\n\r\nexport default useCanvasPenSizeChange;","import { useEffect, useRef } from \"react\";\r\n\r\nimport \"../styles/Base.scss\";\r\n\r\nimport useCanvasColorChange from \"../hooks/useCanvasColorChange\";\r\nimport useCanvasListener from \"../hooks/useCanvasListener\";\r\nimport useCanvasPenSizeChange from \"../hooks/useCanvasPenSizeChange\";\r\n\r\nexport default function SketchPad(props: { width: number, height: number, canvasColor: string, penColor: string, penSize: number, canvasRef: React.RefObject<HTMLCanvasElement> }) {\r\n    const isIdle = useRef(true);\r\n\r\n    useEffect(() => {\r\n        const renderCanvas = () => {\r\n            if (props.canvasRef.current) {\r\n                const canvas: HTMLCanvasElement = props.canvasRef.current;\r\n                const context = canvas.getContext(\"2d\");\r\n                if (context) {\r\n                    context.lineCap = \"round\";\r\n                    context.lineJoin = 'round'\r\n                    context.strokeStyle = props.penColor;\r\n                    context.fillStyle = props.canvasColor;\r\n                    context.fillRect(0, 0, props.width, props.height);\r\n                    context.lineWidth = props.penSize;\r\n                    context.globalCompositeOperation = \"source-over\";\r\n                }\r\n            }\r\n        }\r\n        renderCanvas();\r\n    }, [props.width, props.height]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useCanvasColorChange(props.canvasRef, props.penColor);\r\n    useCanvasPenSizeChange(props.canvasRef, props.penSize);\r\n    useCanvasListener(props.canvasRef, isIdle)\r\n\r\n    function clearCanvas() {\r\n        const canvas: HTMLCanvasElement | null = props.canvasRef.current;\r\n        if (canvas) {\r\n            const context = canvas.getContext(\"2d\");\r\n            if (context) {\r\n                context.fillStyle = props.canvasColor;\r\n                context.fillRect(0, 0, props.width, props.height);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <button style={{ width: props.width }} onClick={clearCanvas}>Clear</button>\r\n            </div>\r\n            <div>\r\n                <canvas onMouseEnter={(e) => {\r\n                    if (e.buttons === 1 && props.canvasRef.current) {\r\n                        props.canvasRef.current?.getContext(\"2d\")?.beginPath();\r\n                        isIdle.current = false;\r\n                    }\r\n                }} onMouseLeave={() => isIdle.current = true} ref={props.canvasRef} width={props.width} height={props.height} style={{ border: \"1px solid #000000\" }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nSketchPad.defaultProps = {\r\n    width: 400,\r\n    height: 400,\r\n    canvasColor: \"#FFFFFF\",\r\n    penColor: \"#000000\",\r\n    penSize: 12\r\n}","import \"../styles/Base.scss\";\r\n\r\nexport default function PenSettings(props: { setColor: (color: string) => void, setSize: (size: number) => void, x: number, y: number, setX: (size: number) => void, setY: (size: number) => void }) {\r\n\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", flexWrap: \"wrap\" }}>\r\n            <label>Width:</label>\r\n            <input value={props.x} onChange={e => { if (Number(e.target.value) * props.y < 125006105) props.setX(Number(e.target.value) > 32767 ? 32767 : Number(e.target.value)) }} />\r\n            <label>Height:</label>\r\n            <input value={props.y} onChange={e => { if (Number(e.target.value) * props.x < 125006105) props.setY(Number(e.target.value) > 32767 ? 32767 : Number(e.target.value)) }} />\r\n            <label>Pen size:</label>\r\n            <input type=\"range\" min=\"1\" max=\"100\" defaultValue={10} onChange={(e) => props.setSize(Number(e.target.value))}></input>\r\n            <label>Pen color:</label>\r\n            <input onChange={(e) => props.setColor(e.target.value)} type=\"color\" style={{ display: 'inline', margin: 'auto' }}></input>\r\n        </div>\r\n    )\r\n}","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { useRef, useState } from \"react\";\r\nimport \"../styles/Base.scss\";\r\nimport \"../styles/PainterApp.scss\";\r\nimport PenSettings from \"../components/PenSettings\";\r\nimport SketchPad from \"../components/SketchPad\";\r\nexport default function PainterApp() {\r\n    const [color, setColor] = useState(\"black\");\r\n    const [size, setSize] = useState(10);\r\n    const [x, setX] = useState(400);\r\n    const [y, setY] = useState(400);\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const downloadRef = useRef<HTMLAnchorElement>(null);\r\n\r\n    function download() {\r\n        var image = canvasRef.current!.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n        downloadRef.current!.setAttribute(\"href\", image);\r\n    }\r\n    return (\r\n        <div>\r\n            <p>Painter</p>\r\n            <div className=\"painter\">\r\n                <SketchPad penColor={color} penSize={size} canvasRef={canvasRef} width={x} height={y} />\r\n                <div>\r\n                    <PenSettings setColor={setColor} setSize={setSize} x={x} y={y} setX={setX} setY={setY} />\r\n                    <a ref={downloadRef} download=\"image.png\"><button type=\"button\" onClick={download} >Download</button></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"names":["canvasRef","color","useEffect","current","context","getContext","lineCap","strokeStyle","changeColor","isIdle","getStrokeVector","event","canvas","pageX","offsetLeft","pageY","offsetTop","drawStart","beginPath","moveTo","apply","_toConsumableArray","drawMove","drawEnd","lineTo","stroke","addEventListener","addListeners","penSize","lineWidth","changePenSize","SketchPad","props","useRef","lineJoin","penColor","fillStyle","canvasColor","fillRect","width","height","globalCompositeOperation","renderCanvas","useCanvasColorChange","useCanvasPenSizeChange","useCanvasListener","_jsxs","children","_jsx","style","onClick","onMouseEnter","e","_props$canvasRef$curr","_props$canvasRef$curr2","buttons","onMouseLeave","ref","border","defaultProps","PenSettings","display","flexDirection","flexWrap","value","x","onChange","Number","target","y","setX","setY","type","min","max","defaultValue","setSize","setColor","margin","PainterApp","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","size","_useState5","_useState6","_useState7","_useState8","downloadRef","className","download","image","toDataURL","replace","setAttribute"],"sourceRoot":""}